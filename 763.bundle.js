"use strict";(self.webpackChunk_chievemints_ui=self.webpackChunk_chievemints_ui||[]).push([[763],{8763:(t,e,a)=>{a.r(e),a.d(e,{default:()=>f});var n=a(2784),i=a(64033),s=a(33541),l=a(60146),r=a(18813),o=a(14738),c=a(18671),m=a(62833),u=a(96111),h=a.n(u);const f=()=>{const[t,e]=(0,n.useState)([]),[a]=(0,m.lr)(),[u,f]=(0,n.useState)(Number(a.get("limit")??10)),[g,E]=(0,n.useState)(Number(a.get("offset")??0)),[w,y]=(0,n.useState)(!!a.get("gating")??!1),d=a.get("visible")??"";console.log({h:"HELP"});const[p,b]=(0,n.useState)((0,l.YC)(d)),{roContract:S,constsContract:v}=(0,o.$6)(),B=(t,a)=>{e((e=>[...e.slice(0,t),{...e[t],...a},...e.slice(t+1)]))},[C,I]=(0,n.useState)(null),[N,k]=(0,n.useState)(null),[x,P]=(0,n.useState)(null),[_,T]=(0,n.useState)(null);(0,n.useEffect)((()=>{console.info({q:d}),S&&v&&(S.typeSupply().then((t=>t.toBigInt())).then(I),v.GATING_TYPE().then((t=>t.toBigInt())).then(k),v.TYPE_WIDTH().then(P),v.TYPE_BOUNDARY().then(T))}),[S,v]),(0,n.useEffect)((()=>{console.info({visible:d}),b((0,l.YC)(d))}),[d]);const Y=async(t,e=!0)=>{try{const a=(await S.tokenByIndex(t)).toBigInt(),n={};return n.gating=(a&2n**BigInt(x)-1n<<BigInt(_))===N,n.hidden=e&&n.gating&&!w,{id:`0x${a.toString(16)}`,is:n,index:t}}catch(t){return t}};(0,n.useEffect)((()=>{console.log({t:d}),(async()=>{if(S&&v){const t=[];if(console.log({visibleList:p,v:p.some((()=>!0))}),p.some((()=>!0)))t.push(...p.map((async t=>{let{high:e,low:a}=t;return([e,a]=[e,a].sort()).some((t=>null!=t))||([e,a]=[t,t]),console.log({h:e-a}),await Promise.all(Array.from({length:e-a+1}).map((async(t,e)=>await Y(a+e,!1))))})));else{const e=Math.min(u,Number(C)-g),a=g<0?C+g:g;t.push(...Array.from({length:e}).map((async(t,e)=>await Y(a+e+1))))}const a=(await Promise.all(t)).flat();L(a),e((await Promise.all(t)).flat())}})()}),[p]);const L=(0,n.useCallback)((async t=>{await Promise.all(t.map((async(t,e)=>{if(!(t instanceof Error)){if(t.is?.hidden)return null;let a=null;try{const n=await S.uri(t.id);if(""===n)throw new Error("No URI");B(e,{uri:n});const i=(0,l._m)(n),s=await fetch(i),r=await s.text();if(!r||""===r)throw new Error("No Data");try{a=h().parse(r)}catch(t){console.error("JSON Error",{error:t,data:r})}}catch(t){B(e,{error:(0,l.B9)(t)})}finally{B(e,{metadata:a})}const n=await S.totalSupply(t.id);B(e,{total:n});const i=await S.getMax(t.id);B(e,{max:i})}})))}),[]);return n.createElement(i.W2,{maxW:"full"},n.createElement(c.q,null,n.createElement("title",null,"ğ”ğ”¢ğ”±ğ”ğ”Šğ”ğ”ªğ”¢â€™ğ”° â€™ğ“’ğ“±ğ“²ğ“®ğ“¿ğ“®ğ“¶ğ“²ğ“·ğ“½ğ“¼"),n.createElement("meta",{name:"description",content:"MetaGameâ€™s â€™Chievemint NFTs"})),n.createElement(s.m$.header,{h:"45vh"},n.createElement(i.kC,{maxW:"40rem",margin:"auto"},n.createElement(r.h4,{mt:"5vh",h:"40vh"}))),n.createElement(s.m$.main,null,n.createElement(r.$B,{limit:u,setLimit:f,offset:g,setOffset:E,gatingVisible:w,setGatingVisible:y,visibleList:p,setVisibleList:b}),n.createElement(r.jq,{tokens:t})))}}}]);