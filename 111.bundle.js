"use strict";(self.webpackChunk_chievemints_ui=self.webpackChunk_chievemints_ui||[]).push([[111],{18813:(e,t,n)=>{n.d(t,{h4:()=>c,dL:()=>j,Pj:()=>Y,Px:()=>U,xj:()=>J,h_:()=>P,g_:()=>g,Mm:()=>W,$B:()=>Q,jq:()=>D,NN:()=>V});var a=n(64033),r=n(70691),l=n(2784);const c=({links:e={cup:"/new",sign:"/"},...t})=>l.createElement(a.kC,{grow:1,...t},l.createElement(r.u,{hasArrow:!0,label:"Create A New Token Type"},l.createElement(U,{w:"min(40%, 75vh)",h:"auto",svg:"logo.svg",href:e.cup,title:"Create a new Token"})),l.createElement(r.u,{hasArrow:!0,label:"List Existing Tokens"},l.createElement(U,{w:"75%",h:"auto",ml:"-15%",svg:"header.svg",href:e.sign,title:"View Existing Tokens"})));var i=n(54805),o=n(96035),m=n(60146),s=n(14738),u=n(63955),E=n(96111),d=n.n(E),p=n(10289);const g=({purpose:e="create",tokenId:t,metadata:n})=>{const{rwContract:r}=(0,s.$6)(),c=(0,p.s0)(),{register:E,handleSubmit:g,watch:h,setValue:f,formState:{errors:b,isSubmitting:w,isDirty:k}}=(0,u.cI)(),[y,v]=(0,l.useState)(0),C=(0,i.pm)(),x=(0,l.useCallback)((async({metadata:n})=>{if(!r)throw new Error(`Cannot connect to contract to ${e} metadata.`);if(null==t)throw new Error("Token id is unset.");try{if(null!=t){const e=await r.setURI(BigInt(t),n);await e.wait()}c(`/view/${(0,m.pc)(t)}`)}catch(e){C({title:"Contract Error",description:(0,m.B9)(e),status:"error",isClosable:!0,duration:1e4})}}),[r,t,e,c,C]),I=async e=>{const{name:t,description:n,homepage:a,color:r,images:l,animation:c,attributes:i}=e,o={name:(0,m.DM)(t)?t:"ğ™ğ™£ğ™©ğ™ğ™©ğ™¡ğ™šğ™™",decimals:0};return(0,m.DM)(n)&&(o.description=n),(0,m.DM)(a)&&(o.external_url=a),Array.isArray(l)?o.image=(await(0,m.hY)(l))[0]:null!=l&&console.warn("Unknown Image Type: "+typeof l),c instanceof File||"string"==typeof c?o.animation_url=(await(0,m.hY)(c))[0]:null!=c&&console.warn("Unknown Animation Type: "+typeof c),r?.startsWith("#")&&(o.background_color=r.substring(1).toUpperCase()),(0,m.DM)(i)&&!(0,m.xb)(i)&&(o.attributes=i.map((({name:e,value:t,type:n})=>{const a={trait_type:e,value:t};return"string"!==n&&(a.display_type=n),a}))),o};return l.createElement(a.Kq,{align:"center"},l.createElement(a.xu,{as:"form",onSubmit:g((async e=>{try{const t=`metadata.${(new Date).toISOString()}.json`;let n=await(async()=>{switch(y){case 0:return{name:t,content:JSON.stringify(await I(e),null,2)};case 1:return e.uri;case 2:if(!(0,m.DM)(e.json5))throw new Error("JSON5 isnâ€™t set.");return{name:t,content:JSON.stringify(d().parse(e.json5),null,2)};default:throw new Error(`Unknown Tab: ${y}`)}})();if(!n)throw new Error("Metadata is undefined.");[n]=await(0,m.hY)(n),await x({metadata:n})}catch(e){C({title:"Metadata Error",description:(0,m.B9)(e),status:"error",isClosable:!0,duration:1e4}),console.debug(e.stack)}})),mt:10,w:["100%","min(85vw, 40em)"],sx:{a:{textDecoration:"underline"}}},l.createElement(W,{purpose:e,processing:w,mb:3}),l.createElement(o.mQ,{mx:[0,5],isFitted:!0,variant:"enclosed",onChange:e=>v(e)},l.createElement(o.td,{mb:"1em"},l.createElement(o.OK,null,"Fields"),l.createElement(o.OK,null,"URI"),l.createElement(o.OK,null,"JSON5")),l.createElement(o.nP,null,[P,V,Y].map(((e,a)=>l.createElement(o.x4,{key:a,p:0},l.createElement(e,{register:E,watch:h,setValue:f,tokenId:t,metadata:n})))))),l.createElement(W,{purpose:e,processing:w,mb:3})),l.createElement(J,{colorScheme:"blue",tokenId:t,purpose:e}))};var h=n(33541),f=n(86915),b=n(69204),w=n(89975),k=n(62833);const y=(0,h.m$)(k.rU),v=({token:e})=>l.createElement(f.Td,null,l.createElement(r.u,{label:null!=e.id?(0,m.pc)(`0x${BigInt(e.id).toString(16)}`):"ğš„ğš—ğš”ğš—ğš˜ğš ğš—"},l.createElement(a.xv,null,e.index))),C=({token:e})=>l.createElement(f.Td,{colSpan:4},l.createElement(a.kC,{justify:"center"},l.createElement(a.xv,{color:"cyan",fontStyle:"italic"},l.createElement(l.Fragment,null,console.info({err:e.error,ext:(0,m.B9)(e.error)}),(0,m.B9)(e.error))))),x=()=>l.createElement(f.Td,{colSpan:4},l.createElement(a.kC,{justify:"center"},l.createElement(b.$,{thickness:"4px"}),l.createElement(a.xv,{ml:3},"Loading Metadataâ€¦"))),I=({token:e})=>l.createElement(f.Td,null,l.createElement(a.Kq,null,l.createElement(y,{to:`/view/${(0,m.pc)(e.id)}`},l.createElement(a.xu,{bg:e.metadata?.background_color?`#${e.metadata.background_color}`:"transparent"},e.metadata?.image&&l.createElement(h.m$.object,{data:(0,m._m)(e.metadata.image)??void 0,title:e.metadata?.name??"Untitled",maxW:32,maxH:32,objectFit:"contain",margin:"auto"})),l.createElement(a.xv,null,e.metadata?.name??l.createElement(a.xv,{as:"em"},"Untitled"))))),T=({token:e})=>l.createElement(f.Td,{flexGrow:1,sx:{a:{textDecoration:"underline"}}},l.createElement(w.D,{linkTarget:"_blank"},e.metadata?.description??"*No Description*")),S=({token:e})=>l.createElement(f.Td,null,e.metadata?.external_url&&l.createElement(a.rU,{href:e.metadata.external_url,isExternal:!0,fontSize:"150%"},l.createElement(r.u,{label:e.metadata.external_url,hasArrow:!0},"ğŸŒ"))),$=({token:e})=>l.createElement(f.Td,null,e.uri&&l.createElement(a.kC,{justify:"center",fontSize:"150%"},l.createElement(a.rU,{href:(0,m._m)(e.uri)??void 0,isExternal:!0},l.createElement(r.u,{label:e.uri,hasArrow:!0},"ğŸ”—")),l.createElement(a.rU,{ml:2,onClick:()=>{e.uri&&"undefined"!=typeof navigator&&window.isSecureContext&&navigator.clipboard?.writeText(e.uri)}},l.createElement(r.u,{label:"Copy to Clipboard",hasArrow:!0},"ğŸ“‹")))),N=({token:e})=>l.createElement(f.Td,null,l.createElement(y,{to:`/owners/${e.id}`},null==e.total?l.createElement(b.$,null):`${e.total} â„ ${e.max}`)),_=({token:e})=>{const t=(0,m.pc)(e.id);return l.createElement(f.Td,null,l.createElement(a.kC,{justify:"center",fontSize:"150%"},l.createElement(y,{to:`/edit/${t}`},l.createElement(r.u,{label:"Edit Metadata",hasArrow:!0},"âœï¸")),l.createElement(y,{ml:2,to:`/view/${t}`},l.createElement(r.u,{label:"View This NFT",hasArrow:!0},"ğŸ‘")),l.createElement(y,{ml:2,to:`/disburse/${t}`},l.createElement(r.u,{label:"Disburse This NFT",hasArrow:!0},"ğŸ’¸"))))},D=({tokens:e})=>l.createElement(f.iA,{sx:{"th, td":{textAlign:"center"},a:{borderBottom:"2px dotted transparent"},"a:hover":{textDecoration:"none",borderBottom:"2px dotted"}}},l.createElement(f.hr,null,l.createElement(f.Tr,null,l.createElement(f.Th,null,"Id"),l.createElement(f.Th,null,"Display"),l.createElement(f.Th,{flexGrow:1},"Description"),l.createElement(f.Th,null,"Link"),l.createElement(f.Th,null,"Metadata"),l.createElement(f.Th,null,"Total"),l.createElement(f.Th,null,"Actions"))),l.createElement(f.p3,null,e.map(((e,t)=>e.is?.hidden?null:l.createElement(f.Tr,{key:t},l.createElement(v,{token:e,index:t}),!e.uri&&e.error?l.createElement(C,{token:e}):e.metadata?l.createElement(l.Fragment,null,l.createElement(I,{token:e}),l.createElement(T,{token:e}),l.createElement(S,{token:e})):l.createElement(x,{token:e}),e.uri&&l.createElement($,{token:e}),l.createElement(N,{token:e}),l.createElement(_,{token:e})))))),A=(0,h.m$)(k.rU),U=l.forwardRef((({href:e="#",svg:t,...n},r)=>l.createElement(A,{position:"relative",zIndex:1,to:e,...n},l.createElement(a.xu,{display:"inline-block",w:"full",h:"full"},l.createElement(h.m$.object,{maxH:"100%",data:t,ref:r,position:"relative",zIndex:-1})))));U.displayName="LinkedSVG";const j=()=>l.createElement(U,{href:"/",svg:"../favicon.svg",h:"3rem",w:"2rem",position:"fixed",left:"0.25rem",top:"0.25rem"});var M=n(80038);const V=({register:e})=>l.createElement(M.II,{placeholder:"Enter a URI for the tokenâ€¦",...e("uri")});var O=n(39680),F=n(90028),z=n(26106),B=n(42840),L=n(1525),H=n(91506),R=n(46652),X=n(50725);const K=({attributes:e=[],setValue:t,index:n})=>{const{name:a="",value:c="",type:i="string"}=e[n],o=(0,l.useCallback)((a=>r=>{t("attributes",[...e.slice(0,n),{...e[n],[a]:r},...e.slice(n+1)])}),[t,n,e]),s=o("name"),u=o("value"),E=o("type");return l.createElement(f.Tr,null,l.createElement(f.Td,null,l.createElement(M.II,{value:a,onChange:({target:{value:e}})=>{s(e)}})),l.createElement(f.Td,null,(()=>{switch(i){case"date":return l.createElement(M.II,{type:"date",value:(0,m.xb)(c)?"":new Date(c).toISOString().split("T")[0],onChange:({target:{value:e}})=>{u(new Date(e).getTime())}});case"string":return l.createElement(M.II,{value:c,onChange:({target:{value:e}})=>{u(e)}});default:return l.createElement(M.II,{type:"number",value:c,onChange:({target:{value:e}})=>{u(null!=e?Number(e):"")}})}})()),l.createElement(f.Td,null,l.createElement(F.Ph,{value:i,onChange:({target:{value:e}})=>{E(e)}},l.createElement(h.m$.option,{value:"string"},"String"),l.createElement(h.m$.option,{value:"date"},"Date"),l.createElement(h.m$.option,{value:"number"},"Number"),l.createElement(h.m$.option,{value:"boost_percentage"},"Boost Percentage"),l.createElement(h.m$.option,{value:"boost_number"},"Boost Number"))),l.createElement(f.Td,null,l.createElement(r.u,{label:"Remove",hasArrow:!0},l.createElement(z.zx,{size:"sm",ml:2,colorScheme:"red",onClick:()=>t("attributes",[...e.slice(0,n),...e.slice(n+1)])},l.createElement(O.Tw,null)))))},P=({register:e,watch:t,setValue:n,tokenId:c="ğ˜œğ˜¯ğ˜¬ğ˜¯ğ˜°ğ˜¸ğ˜¯",metadata:i})=>{const[s,u]=(0,l.useState)(0),E=(0,l.useRef)(null),{homepage:d,description:p,color:g,images:h,attributes:b,animation:k}=t();return(0,l.useEffect)((()=>{if(i){Object.entries({name:null,description:null,external_url:"homepage",animation_url:"animation"}).forEach((([e,t])=>{n(t??e,i[e])})),n("images",[i.image]);const{attributes:e}=i;(0,m.xb)(e)||n("attributes",(e??[]).map((({trait_type:e,value:t,display_type:n="string"})=>({name:e,value:t,type:n}))));const t=i.background_color;t&&!(0,m.xb)(t)&&n("color",`#${t}`)}}),[i,n]),(0,l.useEffect)((()=>{(!d||(0,m.xb)(d)||d.endsWith("ğ˜œğ˜¯ğ˜¬ğ˜¯ğ˜°ğ˜¸ğ˜¯"))&&n("homepage",`${X.ug}/${(0,m.pc)(c)}`)}),[d,n,c]),(0,l.useEffect)((()=>{if(window.location.hash){const e=document.getElementById(window.location.hash.substring(1));window.scroll({top:(e?.offsetTop??0)-120,behavior:"smooth"})}}),[]),l.createElement(a.QI,{listStyleType:"none"},l.createElement(a.HC,null,l.createElement(B.NI,{mt:3},l.createElement(a.kC,{direction:{base:"column",md:"row"}},l.createElement(B.lX,{_after:{content:'":"'}},"Name"),l.createElement(M.II,{autoFocus:!0,ml:{base:0,md:4},...e("name")})))),l.createElement(a.HC,null,l.createElement(B.NI,{mt:3},l.createElement(a.kC,{direction:{base:"column",md:"row"}},l.createElement(B.lX,{_after:{content:'":"'}},"Images"),l.createElement(M.II,{type:"file",accept:"image/*",ref:E,onChange:({target:{files:e}})=>{e?.length&&e?.length>=1&&n("images",[...h??[],...Array.from(e)])},display:"none",multiple:!0})),h?.length&&l.createElement(L.Ee,{value:s,onChange:e=>{u(Number(e))}},l.createElement(a.MI,{columns:3,templateColumns:"6rem 1fr 2rem"},h.map(((e,t)=>{const c=e instanceof File?e.name:e.replace(/^.*\//g,"");return l.createElement(l.Fragment,{key:t},l.createElement(a.kC,{w:16},l.createElement(L.Y8,{value:t},"Display Image")),l.createElement(a.kC,{justify:"center",bg:t===s?g:"transparent"},l.createElement(r.u,{label:c,hasArrow:!0},l.createElement(H.Ee,{alt:c,src:e instanceof File?URL.createObjectURL(e):(0,m._m)(e)??void 0,maxH:60,mt:0,onClick:()=>E.current?.click()}))),l.createElement(a.M5,null,l.createElement(z.zx,{size:"xs",colorScheme:"red",onClick:()=>(e=>{const t=[...h.slice(0,e),...h.slice(e+1)];n("images",t),s===e&&u(t.length>0?0:void 0)})(t)},l.createElement(O.Tw,null))))})))),l.createElement(z.zx,{w:"full",mt:3,colorScheme:"teal",onClick:()=>E.current?.click()},l.createElement(O.dt,null)))),l.createElement(a.HC,null,l.createElement(B.NI,{mt:3},l.createElement(a.kC,{direction:{base:"column",md:"row"}},l.createElement(B.lX,{_after:{content:'":"'}},"Background"),l.createElement(M.II,{type:"color",...e("color")})))),l.createElement(a.HC,null,l.createElement(B.NI,{mt:3},l.createElement(a.kC,{direction:{base:"column",md:"row"}},l.createElement(B.lX,{_after:{content:'":"'}},"Homepage"),l.createElement(a.kC,{grow:1},l.createElement(M.II,{...e("homepage")}),d?.length>0&&l.createElement(a.rU,{ml:2,href:d,isExternal:!0},l.createElement(O.h0,null)))))),l.createElement(a.HC,null,l.createElement(B.NI,{mt:3},l.createElement(a.Kq,null,l.createElement(B.lX,{_after:{content:'":"'}},"Description"),l.createElement(o.mQ,{ml:5,isFitted:!0,variant:"enclosed"},l.createElement(o.td,{mb:"1em"},l.createElement(o.OK,null,"Markdown"),l.createElement(o.OK,null,"Preview")),l.createElement(o.nP,null,l.createElement(o.x4,null,l.createElement(R.g,{placeholder:"Enter a markdown formatted description.",minH:32,...e("description")})),l.createElement(o.x4,null,l.createElement(w.D,null,p))))))),l.createElement(a.HC,null,l.createElement(B.NI,{mt:3},l.createElement(a.kC,{direction:{base:"column",md:"row"}},l.createElement(B.lX,{_after:{content:'":"'}},"Animation"),"string"==typeof k&&l.createElement(a.kC,null,l.createElement(a.xv,null,decodeURI(k.replace(/^ipfs:\/\/[^/]+\//,""))),l.createElement(a.rU,{href:(0,m._m)(k),ml:3,mb:5,isExternal:!0},l.createElement(O.h0,null))),"undefined"!=typeof File&&k instanceof File&&l.createElement(a.kC,null,l.createElement(a.xv,null,k.name),l.createElement(a.rU,{ml:3,mb:5,isExternal:!0,href:URL.createObjectURL(k)},l.createElement(O.h0,null))),l.createElement(M.II,{type:"file",accept:"model/gltf+json,model/gltf-binary,video/*,.gltf,.glb",onChange:e=>{const{target:{files:t}}=e;n("animation",1===t?.length?t[0]:null),e.preventDefault()},h:"auto"})))),l.createElement(a.HC,{id:"attributes"},l.createElement(B.NI,{mt:3},l.createElement(a.Kq,null,l.createElement(a.kC,null,l.createElement(B.lX,{_after:{content:'":"'}},"Attributes"),l.createElement(z.zx,{ml:2,size:"xs",onClick:()=>{console.log({attributes:b}),n("attributes",[...b??[],{}])},colorScheme:"teal"},l.createElement(O.dt,null))),b?.length>0&&l.createElement(f.iA,{sx:{"th, td":{textAlign:"center",px:2}}},l.createElement(f.hr,null,l.createElement(f.Tr,null,l.createElement(f.Th,null,"Name"),l.createElement(f.Th,null,"Value"),l.createElement(f.Th,null,"Type"))),l.createElement(f.p3,null,b.map(((e,t)=>l.createElement(K,{key:t,attributes:b,setValue:n,index:t})))))))))},Y=({register:e})=>l.createElement(R.g,{placeholder:"Enter JSON5 token metadataâ€¦",h:"75vh",...e("json5")});var q=n(4301);const W=({purpose:e,processing:t=!1,onClick:n,label:r=`${(0,m.kC)(e)} NFT`,...c})=>{const{chain:i,userProvider:o,connect:u,rwContract:E}=(0,s.$6)(),d=(0,l.useMemo)((()=>i!==q.g.contract.chainId),[i]),[p,g]=(0,l.useState)(t),h=d?q.g.contract.name:null;return l.createElement(z.zx,{type:"submit",variant:"solid",colorScheme:!E||d?"blue":"green",isDisabled:d&&!!E||t||p,w:"full",onClick:async e=>{try{g(!0),o?d?(e.preventDefault(),(0,m.gu)(q.g.contract.chainId)):n?.apply(null,[e]):(e.preventDefault(),u())}finally{g(!1)}},...c},t||p?l.createElement(a.kC,null,l.createElement(b.$,null),l.createElement(a.xv,{ml:2},(0,m.kC)(e).slice(0,-1),"ingâ€¦")):o?d?`Connect To The ${h} Network`:E?r:"Contract Not Connected":"Connect To Continue")},J=({tokenId:e,purpose:t="create",...n})=>{const[r,c]=(0,l.useState)(null),[o,u]=(0,l.useState)(!1),{roContract:E,rwContract:d}=(0,s.$6)(),p=(0,i.pm)();(0,l.useEffect)((()=>{(async()=>{E&&e&&c(await E.getMax(BigInt(e)))})()}),[e,E]);const g=(0,l.useCallback)((async t=>{if(t.preventDefault(),!d)throw new Error("`rwContract` is not defined");try{u(!0);const t=await d.setMax(e,r);await t.wait()}catch(e){p({title:"Contract Error",description:(0,m.B9)(e),status:"error",isClosable:!0,duration:1e4})}finally{u(!1)}}),[r,d,p,e]);return l.createElement(a.kC,{as:"form",onSubmit:g,alignItems:"flex-end"},l.createElement(B.NI,{display:"flex",w:"auto",alignItems:"baseline",mt:3},l.createElement(B.lX,{whiteSpace:"pre",_after:{content:'":"'}},"Maximum Mintable"),null==r?l.createElement(a.kC,null,l.createElement(b.$,null),l.createElement(a.xv,{ml:3},"Loadingâ€¦")):l.createElement(M.II,{type:"number",mx:{base:0,md:4},w:32,textAlign:"center",value:r,onChange:({target:{value:e}})=>{c(Number(e))}})),l.createElement(W,{label:"Set Max",...{purpose:t,processing:o,...n}}))};var G=n(79338);const Q=({limit:e=10,setLimit:t,offset:n=0,setOffset:r,gatingVisible:c=!1,setGatingVisible:i,visibleList:o=[],setVisibleList:s})=>{const[E,d]=(0,l.useState)(null),{register:p,handleSubmit:g,control:h,setValue:f}=(0,u.cI)();return(0,l.useEffect)((()=>{f("limit",e),f("offset",n),f("visible",E),f("gatingVisible",c)}),[e,n,E,c,f]),l.createElement(a.xu,{as:"form",onSubmit:g((async e=>{t(Number(e.limit)),r(Number(e.offset)),i(e.gatingVisible),d(e.visible),s((0,m.YC)(e.visible))})),mt:10,mb:"1rem",maxW:["100%","min(85vw, 50em)"],sx:{a:{textDecoration:"underline"}}},l.createElement(B.NI,null,l.createElement(a.kC,{align:"center",my:1},l.createElement(B.lX,{_after:{content:'":"'}},"Limit"),l.createElement(M.II,{type:"number",placeholder:"Number of tokens to display.",...p("limit")}))),l.createElement(B.NI,null,l.createElement(a.kC,{align:"center",my:1},l.createElement(B.lX,{_after:{content:'":"'}},"Offset"),l.createElement(M.II,{type:"number",placeholder:"Number of tokens offset from Token 1.",...p("offset")}))),l.createElement(B.NI,null,l.createElement(a.kC,{align:"center",my:1},l.createElement(B.lX,{_after:{content:'":"'}},"VisibleÂ List"),l.createElement(M.II,{placeholder:"Comma, space and dash separated list of indices.",...p("visible")}))),l.createElement(B.NI,null,l.createElement(a.kC,{align:"center",my:1},l.createElement(u.Qr,{control:h,name:"gatingVisible",defaultValue:c,render:({field:{onChange:e,value:t,ref:n}})=>l.createElement(G.XZ,{onChange:e,ref:n,isChecked:t},"ViewÂ PermissionÂ Tokens")}))),l.createElement(z.zx,{type:"submit"},"View"))}},60146:(e,t,n)=>{n.d(t,{B9:()=>b,DM:()=>d,Ke:()=>f,YC:()=>w,_m:()=>s,gu:()=>p,hY:()=>g,kC:()=>u,pc:()=>h,xb:()=>E});var a=n(75361),r=n(50725),l=n(4301),c=n(96596),i=n.n(c),o=n(96111),m=n.n(o);const s=e=>{const[,t,n]=e?.match(/^(?:ipfs|dweb):(?:\/\/)?([^/]+)(?:\/(.*))?$/)??[];if(t){const e=a.CID.parse(t),l=e.toV0().toString(),c=e.toV1().toString(),i=r.IS;return encodeURI(i.replace(/{cid}/g,t).replace(/{v0cid}/g,l).replace(/{v1cid}/g,c).replace(/{path}/g,n??"")).replace(/#/g,"%23")}return e},u=e=>e?.split?e.trim().split(/\s+/g).map((e=>`${e[0]?.toUpperCase()??""}${e.substring(1)?.toLowerCase()??""}`)).join(" "):e,E=e=>Array.isArray(e)?0===e.length:e instanceof Object?0===Object.keys(e).length:""===e,d=e=>""!==e&&null!=e,p=async e=>{try{await(window.ethereum.request?.({method:"wallet_switchEthereumChain",params:[{chainId:e}]}))}catch(t){throw 4902===t.code?new Error(`The network â€œ${l.g[e].name??"Unknown"}â€ is not yet available in your MetaMask.\n\n Please add it.`):t}},g=async e=>{let t=e;if(Array.isArray(t)&&"string"==typeof t[0]){const e=t.length;if(1!==e)throw new Error(`Unexpected ${e} entries in string array passed to ipfsify.`);t=t[0]}if("string"==typeof t){if(t.startsWith("ipfs://"))return[t];throw new Error(`Unknown File String: ${t}`)}const n=Array.isArray(t)?t:[t],a=await i()(r.sD.addAll(n.map((e=>({path:e.name,content:e.content??e}))),{pin:!0,wrapWithDirectory:!0})),[{cid:l}]=a.slice(-1);return n.map((e=>`ipfs://${l.toString()}/`+e.name))},h=e=>{if(!e)return e;let t=e.split(/((\w)\2{3,})/g);for(let e=0;e<t.length-1;e++){const n=t[e],a=t[e+1];1===new Set([...n,...a]).size&&(t[e]+=a,t[e+1]="",e++)}return t=t.filter((e=>""!==e)),t.map((e=>{const[t]=e;return e.length>3&&/\w/.test(t)&&1===new Set(e).size?`${t}{${e.length-1}}`:e})).join("")},f=e=>e?e.split(/(\w\{\d+\})/).map((e=>{const[t,n,a]=e.match(/^(.)\{(\d+)\}/)??[];return n&&a?n.repeat(Number(a)):e})).join(""):e,b=e=>e?.error?.message??e?.data?.message??e?.message??("string"==typeof e?e:`ğ‘¼ğ’ğ’Œğ’ğ’ğ’˜ğ’ ğ‘¬ğ’“ğ’“ğ’ğ’“: ${m().stringify(e,null,2)}`),w=e=>{if(null==e)return[];const t=e.split(/\s*(\s|,)\s*/).filter((e=>!["",","].includes(e.trim())));return t.map((e=>{const t=e.split(/-/);if(t.length>1){const[[e],[n]]=[t,t.slice(-1)];return Object.fromEntries(Object.entries({low:e,high:n}).map((([e,t])=>[e,Number(t)])))}return Number(e)}))}}}]);